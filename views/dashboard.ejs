<!DOCTYPE html>
<html>
<head>
  <title>Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<style>
.container {
  display: flex;
}

.genderChart,
.civilStatusChart {
  flex: 1;
  margin: 10px;
  width: 40px;
  height: 20px;
}
*{
         padding: 0;
          margin: 0;
            box-sizing: border-box;
        }
  body {
    padding: 0;
    margin: 0;
    background: linear-gradient(to right, #89cf43, #5aa84f, #3e8e41);
    }
    .navbar {
    background:#15290a;
    }
    .nav-link,
    .navbar-brand {
    color: #fff;
    cursor: pointer;
    }
    .nav-link {
    margin-right: 1em !important;
    }
    .nav-link:hover {
    color: #000;
    }
    .navbar-collapse {
    justify-content: flex-end;
    
    }
    .Form {
  background-color: white;
  border-radius: 30px;
  opacity: 90%;
  min-height: 50vh;
  min-width: 50vh;
  max-width: 100vh;
  margin: 40px auto 0; /* add margin to the top */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
 
}
.dashboard {
  background-color: white;
  opacity: 90%;
  min-height: 50vh;
  min-width: 50vh;
  max-width: 200vh;
  margin: 40px auto 0; /* add margin to the top */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
 
}

  </style>

<body>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <nav class="navbar navbar-expand-md">
        <a class="navbar-brand" href="home.ejs">
          <img src="https://cdn.glitch.global/6a964070-fa24-4424-a894-bf4948808638/LOGONIDEKSAYT.png?v=1651913178186" alt="LOGO" style="width:60px;height:60px;">
          </a>
        <button class="navbar-toggler navbar-dark" type="button" data-toggle="collapse" data-target="#main-navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="main-navigation">
        <ul class="navbar-nav">
        <li class="nav-item">
        <a class="nav-link" href="/homepage">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/addinfo">My Information</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/viewing">View Information</a>
          </li>

          
        <li class="nav-item">
        <a class="nav-link" href="/logout">logout</a>
        </li>
        </ul>
        </div>
        </nav>

        <section class="dashboard">
            <div class="container">
                <div>
                    <h2>Hobby Table</h2>
                
                <div class="mask d-flex align-items-center h-100">
                    <div class="container">
                      <div class="row justify-content-center">
                        <div class="col-12">
                          <div class="card">
                            <div class="card-body p-0">
                              <div class="table-responsive table-scroll" data-mdb-perfect-scrollbar="true" style="position: relative;">
                                <table class="table table-striped mb-0">
            <thead style="background-color: #002d72;">
            <tr>
              <th scope="col" style="color: #fff;">Hobby</th>
              <th scope="col" style="color: #fff;">Count</th>
            </tr>
        </thead>
    <tbody>
    <% for (let i = 0; i < hobbyList.length; i++) { %>
      <tr>
        <td><%= hobbyList[i].hobby %></td>
        <td><%= hobbyList[i].count %></td>
      </tr>
    <% } %>
  </tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

</div>   
<div class="container">
    <div>
      <h2>User Type Chart</h2>
      <canvas id="userTypeChart" width="400" height="200"></canvas>
    </div>
  
    <script>
      const userTypeData = {
        labels: ['User', 'Manager', 'Admin'],
        datasets: [{
          label: 'User Type',
          data: [<%= userCount %>, <%= managerCount %>, <%= adminCount %>],
          backgroundColor: [
            'rgba(54, 162, 235, 0.2)',
            'rgba(255, 99, 132, 0.2)',
            'rgba(75, 192, 192, 0.2)'
          ],
          borderColor: [
            'rgba(54, 162, 235, 1)',
            'rgba(255, 99, 132, 1)',
            'rgba(75, 192, 192, 1)'
          ],
          borderWidth: 1
        }]
      };
  
      const userTypeConfig = {
        type: 'doughnut',
        data: userTypeData,
        options: {}
      };
  
      const userTypeCtx = document.getElementById('userTypeChart').getContext('2d');
      new Chart(userTypeCtx, userTypeConfig);
    </script>
  </div>
    </section>


        <section class="Form">
        <div class="container">
    <div class="container">
        <div>
            <h2>Student Gender Chart</h2>
  <canvas id="genderChart" width="80" height="80"></canvas>
</div>
  <script>
    const data = {
      labels: ['Male', 'Female'],
      datasets: [{
        label: 'Student Gender',
        data: [<%= maleCount %>, <%= femaleCount %>],
        backgroundColor: [
          'rgba(54, 162, 235, 0.2)',
          'rgba(255, 99, 132, 0.2)'
        ],
        borderColor: [
          'rgba(54, 162, 235, 1)',
          'rgba(255, 99, 132, 1)'
        ],
        borderWidth: 1
      }]
    };

    const config = {
      type: 'bar',
      data: data,
      options: {
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    };

    const ctx = document.getElementById('genderChart').getContext('2d');
    new Chart(ctx, config);
  </script>
</div>



  <div class="container">
   <div>
    <h2>Student Civil Status Chart</h2>
  <canvas id="civilStatusChart" width="400" height="200"></canvas>
</div>
  <script>
    const civilStatusData = {
      labels: ['Single', 'Married', 'Divorced', 'Widowed'],
      datasets: [{
        label: 'Student Civil Status',
        data: [<%= singleCount %>, <%= marriedCount %>, <%= divorcedCount %>, <%= widowedCount %>],
        backgroundColor: [
          'rgba(54, 162, 235, 0.2)',
          'rgba(255, 99, 132, 0.2)',
          'rgba(75, 192, 192, 0.2)',
          'rgba(255, 206, 86, 0.2)'
        ],
        borderColor: [
          'rgba(54, 162, 235, 1)',
          'rgba(255, 99, 132, 1)',
          'rgba(75, 192, 192, 1)',
          'rgba(255, 206, 86, 1)'
        ],
        borderWidth: 1
      }]
    };

    const civilStatusConfig = {
      type: 'pie',
      data: civilStatusData,
      options: {}
    };

    const civilStatusCtx = document.getElementById('civilStatusChart').getContext('2d');
    new Chart(civilStatusCtx, civilStatusConfig);
  </script>
</div>
</div>
</section>



</body>
</html>